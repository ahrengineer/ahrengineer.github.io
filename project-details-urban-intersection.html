<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Urban Intersection Optimization | Projects | Amir H. Rusli</title>
  <meta name="description" content="Detailed information on the Urban Intersection Optimization project by Amir H. Rusli, including challenges, solutions, and outcomes.">
  <meta name="keywords" content="Urban Intersection Optimization, Traffic Engineering, VISSIM, Capacity Analysis, Signal Timing">
  <meta name="author" content="Amir H. Rusli">
  <link rel="canonical" href="https://yourdomain.com/project-details-urban-intersection.html">
  <link rel="icon" href="https://placehold.co/32x32/0077B6/ffffff?text=AR" type="image/png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ===== VARIABLES ===== */
    :root {
      --bg-light: #ffffff;
      --text-dark-primary: #1a1a1a;
      --text-dark-secondary: #555555;
      --accent-blue: #0077B6;
      --accent-blue-light: #e0f2f7;
      --border-radius-main: 16px;
      --border-radius-button: 8px;
      --transition-speed: 0.2s;

      /* Dark Mode Variables */
      --bg-dark: #1a1a1a;
      --text-light-primary: #e0e0e0;
      --text-light-secondary: #aaaaaa;
      --dark-mode-accent-blue: #4DA6FF;
      --dark-mode-accent-blue-light: #004d77;
      --neon-green-acid: #39FF14;
    }
    
    /* ===== BASE STYLES ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
        scroll-behavior: smooth; /* Smooth scrolling for anchor links */
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: var(--bg-light);
      color: var(--text-dark-primary);
      line-height: 1.6;
      display: flex;
      flex-direction: column;
      transition: background-color var(--transition-speed), color var(--transition-speed);
      min-height: 100vh;
      overflow-x: hidden;
    }

    body.dark {
      background-color: var(--bg-dark);
      color: var(--text-light-primary);
    }

    /* ===== HEADER ===== */
    header {
      width: 100%;
      padding: 1.5rem 4rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      background-color: var(--bg-light);
      transition: background-color var(--transition-speed), border-bottom var(--transition-speed);
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    body.dark header {
        background-color: var(--bg-dark);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .header-logo-text {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 1.5rem;
      color: var(--accent-blue);
      flex-shrink: 0;
      transition: color var(--transition-speed);
      cursor: pointer; /* Indicate it's clickable */
      text-decoration: none; /* Remove underline for AHR link */
    }

    body.dark .header-logo-text {
        color: var(--dark-mode-accent-blue);
    }

    nav {
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    nav ul {
      list-style: none;
      display: flex;
      gap: 1.5rem;
      margin-right: 1rem;
    }

    nav ul li a {
      text-decoration: none;
      color: var(--text-dark-primary);
      font-weight: 500;
      font-size: 1rem;
      padding: 0.5rem 0;
      position: relative;
      transition: color var(--transition-speed);
    }

    body.dark nav ul li a {
        color: var(--text-light-primary);
    }

    nav ul li a:hover {
      color: var(--accent-blue);
    }

    body.dark nav ul li a:hover {
        color: var(--dark-mode-accent-blue);
    }

    nav ul li a.active {
      color: var(--accent-blue);
      font-weight: 600;
    }

    body.dark nav ul li a.active {
        color: var(--dark-mode-accent-blue);
    }

    /* Dropdown menu styles */
    .dropdown {
      position: relative;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: var(--bg-light);
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
      border-radius: var(--border-radius-button);
      overflow: hidden;
      top: calc(100% + 10px);
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
    }

    body.dark .dropdown-content {
        background-color: var(--bg-dark);
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.4);
    }

    .dropdown-content a {
      color: var(--text-dark-primary);
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      text-align: left;
      font-weight: 400;
      font-size: 0.95rem;
      transition: background-color 0.2s ease, color 0.2s ease;
    }

    body.dark .dropdown-content a {
        color: var(--text-light-primary);
    }

    .dropdown-content a:hover {
      background-color: var(--accent-blue-light);
      color: var(--accent-blue);
    }

    body.dark .dropdown-content a:hover {
        background-color: var(--dark-mode-accent-blue-light);
        color: var(--dark-mode-accent-blue);
    }

    .dropdown.show .dropdown-content {
      display: block;
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) translateY(0);
    }

    .dropdown-arrow {
      margin-left: 0.5rem;
      font-size: 0.8rem;
      transition: transform 0.3s ease;
    }

    .dropdown.show .dropdown-arrow {
      transform: rotate(180deg);
    }

    .resume-button {
      background-color: var(--accent-blue-light);
      color: var(--accent-blue);
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: var(--border-radius-button);
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: background-color var(--transition-speed), transform var(--transition-speed), color var(--transition-speed), box-shadow var(--transition-speed);
      white-space: nowrap;
    }

    body.dark .resume-button {
        background-color: var(--neon-green-acid);
        color: var(--bg-dark);
        box-shadow: 0 0 15px var(--neon-green-acid), 0 0 25px var(--neon-green-acid);
    }

    .resume-button:hover {
      background-color: var(--accent-blue);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    body.dark .resume-button:hover {
        background-color: var(--neon-green-acid);
        color: var(--bg-dark);
        transform: translateY(-3px);
        box-shadow: 0 0 20px var(--neon-green-acid), 0 0 30px var(--neon-green-acid), 0 0 40px var(--neon-green-acid);
    }

    /* Theme toggle button */
    .theme-toggle-button {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--accent-blue-light);
      color: var(--accent-blue);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: background-color var(--transition-speed), color var(--transition-speed), transform var(--transition-speed), box-shadow var(--transition-speed);
      font-size: 1.1rem;
      margin-left: 1rem;
    }

    body.dark .theme-toggle-button {
        background: var(--dark-mode-accent-blue-light);
        color: var(--dark-mode-accent-blue);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }
    .theme-toggle-button:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    body.dark .theme-toggle-button:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }
    .theme-toggle-button #theme-icon {
        transition: transform 0.5s ease-in-out;
    }
    .theme-toggle-button #theme-icon.rotating {
        transform: rotate(360deg);
    }

    /* Hamburger menu for mobile */
    .hamburger-menu {
        display: none;
        flex-direction: column;
        justify-content: space-around;
        width: 30px;
        height: 25px;
        cursor: pointer;
        z-index: 1001;
        margin-left: 1rem;
    }

    .hamburger-menu span {
        display: block;
        width: 100%;
        height: 3px;
        background-color: var(--text-dark-primary);
        border-radius: 3px;
        transition: all 0.3s ease-in-out;
    }
    body.dark .hamburger-menu span {
        background-color: var(--text-light-primary);
    }

    .hamburger-menu.open span:nth-child(1) {
        transform: translateY(11px) rotate(45deg);
    }
    .hamburger-menu.open span:nth-child(2) {
        opacity: 0;
    }
    .hamburger-menu.open span:nth-child(3) {
        transform: translateY(-11px) rotate(-45deg);
    }

    /* Mobile Nav Overlay */
    .mobile-nav-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .mobile-nav-overlay.open {
        display: block;
        opacity: 1;
        visibility: visible;
    }

    .mobile-nav {
        position: fixed;
        top: 0;
        right: -300px;
        width: 280px;
        height: 100%;
        background-color: var(--bg-light);
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        display: flex;
        flex-direction: column;
        padding: 2rem;
        transition: right 0.3s ease-in-out;
    }

    body.dark .mobile-nav {
        background-color: var(--bg-dark);
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.5);
    }

    .mobile-nav.open {
        right: 0;
    }

    .mobile-nav ul {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        margin-top: 2rem;
    }

    .mobile-nav ul li a, .mobile-nav .resume-button {
        text-decoration: none;
        color: var(--text-dark-primary);
        font-size: 1.2rem;
        font-weight: 500;
        display: block;
        padding: 0.5rem 0;
        transition: color 0.2s ease;
    }
    body.dark .mobile-nav ul li a {
        color: var(--text-light-primary);
    }

    .mobile-nav ul li a:hover {
        color: var(--accent-blue);
    }
    body.dark .mobile-nav ul li a:hover {
        color: var(--dark-mode-accent-blue);
    }

    .mobile-nav .resume-button {
        margin-top: 2rem;
        text-align: center;
    }

    /* Mobile dropdown specific styles */
    .mobile-nav .dropdown-content { /* Use .dropdown-content for mobile as well */
        position: static;
        display: none;
        opacity: 1;
        visibility: visible;
        transform: none;
        background-color: transparent;
        box-shadow: none;
        min-width: unset;
        padding-left: 1.5rem;
        margin-top: 0.5rem;
    }

    .mobile-nav .dropdown-content a {
        font-size: 1rem;
        padding: 0.3rem 0;
    }

    /* ===== MAIN CONTENT SECTIONS ===== */
    main {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        padding: 2rem 4rem;
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
    }

    .project-detail-container {
        display: flex;
        flex-direction: column;
        background-color: var(--bg-light);
        border-radius: var(--border-radius-main);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        padding: 2rem;
        margin-top: 2rem;
        width: 100%;
        max-width: 900px;
        text-align: left;
    }
    body.dark .project-detail-container {
        background-color: var(--bg-dark);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    .project-detail-container img {
        width: 100%;
        height: auto;
        max-height: 400px;
        object-fit: cover;
        border-radius: var(--border-radius-main);
        margin-bottom: 1.5rem;
    }

    .project-detail-container h2 {
        font-family: 'Playfair Display', serif;
        font-size: clamp(2rem, 4vw, 3rem);
        color: var(--accent-blue);
        margin-bottom: 1rem;
        text-align: center;
    }
    body.dark .project-detail-container h2 {
        color: var(--dark-mode-accent-blue);
    }

    .project-detail-container h3 {
        font-family: 'Inter', sans-serif;
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--text-dark-primary);
        margin-top: 1.5rem;
        margin-bottom: 0.8rem;
    }
    body.dark .project-detail-container h3 {
        color: var(--text-light-primary);
    }

    .project-detail-container p {
        font-size: 1rem;
        color: var(--text-dark-secondary);
        line-height: 1.7;
        margin-bottom: 1rem;
    }
    body.dark .project-detail-container p {
        color: var(--text-light-secondary);
    }

    .tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-top: 1rem;
        margin-bottom: 1.5rem;
    }

    .tag {
        background-color: var(--accent-blue-light);
        color: var(--accent-blue);
        font-size: 0.75rem;
        padding: 0.3rem 0.7rem;
        border-radius: 9999px; /* Pill shape */
        white-space: nowrap;
        transition: background-color var(--transition-speed), color var(--transition-speed);
    }
    body.dark .tag {
        background-color: var(--dark-mode-accent-blue-light);
        color: var(--dark-mode-accent-blue);
    }

    .back-button {
        background-color: var(--accent-blue);
        color: white;
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: var(--border-radius-button);
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
        margin-top: 2rem;
        align-self: center; /* Center the button */
    }
    body.dark .back-button {
        background-color: var(--dark-mode-accent-blue);
    }
    .back-button:hover {
        background-color: #005f8e; /* Darker blue */
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    body.dark .back-button:hover {
        background-color: #3a8ee0; /* Darker dark mode blue */
    }


    /* ===== FOOTER ===== */
    footer {
      text-align: center;
      padding: 1.5rem 2rem;
      font-size: 0.85rem;
      width: 100%;
      box-sizing: border-box;
      flex-shrink: 0;
      color: var(--text-dark-primary);
      opacity: 0.8;
      background-color: var(--bg-light);
      transition: background-color var(--transition-speed), color var(--transition-speed);
      border-top: 1px solid rgba(0, 0, 0, 0.05);
    }
    
    body.dark footer {
        color: var(--text-light-primary);
        background-color: var(--bg-dark);
        border-top: 1px solid rgba(255, 255, 255, 0.05);
    }

    footer p {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .social-links {
      margin-top: 0.8rem;
      gap: 0.8rem;
      display: flex;
      justify-content: center;
    }

    .social-links a {
      font-size: 1.3rem;
      color: var(--text-dark-primary);
      transition: color 0.2s ease-out, transform 0.2s ease-out;
      opacity: 0.7;
    }

    body.dark .social-links a {
      color: var(--text-light-primary);
    }

    .social-links a:hover {
      color: var(--accent-blue);
      transform: translateY(-2px);
      opacity: 1;
    }

    body.dark .social-links a:hover {
      color: var(--dark-mode-accent-blue);
    }
    
    /* ===== RESPONSIVE ADJUSTMENTS ===== */
    @media (max-width: 1024px) {
        header {
            padding: 1.5rem 2rem;
        }
        nav ul {
            gap: 1rem;
        }
        nav ul li a {
            font-size: 0.95rem;
        }
        nav .resume-button {
            padding: 0.7rem 1.2rem;
            font-size: 0.9rem;
        }
        main {
            padding: 1.5rem 2rem;
        }
        .project-detail-container {
            padding: 1.5rem;
        }
        .project-detail-container h2 {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
        }
        .project-detail-container h3 {
            font-size: 1.3rem;
        }
        .project-detail-container p {
            font-size: 0.95rem;
        }
    }

    @media (max-width: 768px) {
        html {
            scroll-padding-top: 60px;
        }
        header {
            padding: 1rem 1.5rem;
            flex-direction: row;
            justify-content: space-between;
            height: 60px;
        }
        .header-logo-text {
            font-size: 1.2rem;
        }
        nav {
            display: none;
        }
        .hamburger-menu {
            display: flex;
        }
        .theme-toggle-button {
            margin-left: 0.5rem;
        }
        main {
            padding: 1rem;
        }
        .project-detail-container {
            padding: 1rem;
            margin-top: 1rem;
        }
        .project-detail-container h2 {
            font-size: clamp(1.5rem, 6vw, 2rem);
        }
        .project-detail-container h3 {
            font-size: 1.1rem;
        }
        .project-detail-container p {
            font-size: 0.85rem;
        }
        .back-button {
            padding: 0.6rem 1.2rem;
            font-size: 0.9rem;
            margin-top: 1.5rem;
        }
    }

    @media (max-width: 480px) {
        header {
            padding: 0.8rem 1rem;
            height: 55px;
        }
        .header-logo-text {
            font-size: 1.1rem;
        }
        .hamburger-menu {
            width: 28px;
            height: 22px;
        }
        .hamburger-menu span {
            height: 2px;
        }
        .hamburger-menu.open span:nth-child(1) {
            transform: translateY(10px) rotate(45deg);
        }
        .hamburger-menu.open span:nth-child(3) {
            transform: translateY(-10px) rotate(-45deg);
        }
        .theme-toggle-button {
            width: 32px;
            height: 32px;
            font-size: 0.8rem;
        }
        main {
            padding: 0.5rem;
        }
        .project-detail-container {
            padding: 0.8rem;
            margin-top: 0.8rem;
        }
        .project-detail-container h2 {
            font-size: clamp(1.2rem, 8vw, 1.8rem);
        }
        .project-detail-container h3 {
            font-size: 1rem;
        }
        .project-detail-container p {
            font-size: 0.8rem;
        }
        .back-button {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            margin-top: 1rem;
        }
    }
  </style>
  <!-- SEO Enhancement: JSON-LD Structured Data for Person -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Amir H. Rusli",
    "jobTitle": "Traffic Engineer & Consultant",
    "url": "https://yourdomain.com/",
    "alumniOf": {
      "@type": "EducationalOrganization",
      "name": "University Malaya"
    },
    "sameAs": [
      "https://www.linkedin.com/in/yourprofile",
      "https://github.com/yourusername"
    ],
    "worksFor": {
      "@type": "Organization",
      "name": "Self-Employed"
    }
  }
  </script>
</head>
<body class="no-tap-highlight">
  <header>
    <a href="index.html" class="header-logo-text" aria-label="Go to homepage">AHR</a>
    <nav class="desktop-nav">
        <ul>
            <li><a href="about.html">About</a></li>
            <li><a href="projects.html" class="active">Projects</a></li> <!-- Active for this page -->
            <li class="dropdown">
                <a href="#" class="dropbtn" onclick="return false;" aria-haspopup="true" aria-expanded="false" aria-controls="skills-dropdown-content">Skills <i class="fas fa-caret-down dropdown-arrow"></i></a>
                <div class="dropdown-content" id="skills-dropdown-content" role="menu">
                    <a href="skill-details-sidra.html" role="menuitem">Sidra</a>
                    <a href="skill-details-vissim.html" role="menuitem">Vissim</a>
                    <a href="skill-details-programming.html" role="menuitem">Programming</a>
                    <a href="skill-details-swept-path.html" role="menuitem">Swept Path Analysis</a>
                </div>
            </li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
        <a href="/path/to/your-resume.pdf" download="Amir_H_Rusli_Resume.pdf" class="resume-button">Resume</a>
        <button class="theme-toggle-button" onclick="toggleTheme()" aria-label="Toggle dark mode">
            <span id="theme-icon">🌞</span>
        </button>
    </nav>
    <div class="hamburger-menu" aria-label="Open navigation menu" role="button" tabindex="0">
        <span></span>
        <span></span>
        <span></span>
    </div>
  </header>

  <!-- Mobile Navigation Menu -->
  <div class="mobile-nav-overlay"></div>
  <div class="mobile-nav">
      <button class="theme-toggle-button" onclick="toggleTheme()" aria-label="Toggle dark mode">
          <span id="theme-icon-mobile">🌞</span>
      </button>
      <ul>
          <li><a href="about.html">About</a></li>
          <li><a href="projects.html">Projects</a></li>
          <li class="dropdown-mobile">
              <a href="#" class="dropbtn-mobile" onclick="return false;" aria-haspopup="true" aria-expanded="false" aria-controls="skills-dropdown-mobile-content">Skills <i class="fas fa-caret-down dropdown-arrow"></i></a>
              <div class="dropdown-content" id="skills-dropdown-mobile-content" role="menu">
                  <a href="skill-details-sidra.html" role="menuitem">Sidra</a>
                  <a href="skill-details-vissim.html" role="menuitem">Vissim</a>
                  <a href="skill-details-programming.html" role="menuitem">Programming</a>
                  <a href="skill-details-swept-path.html" role="menuitem">Swept Path Analysis</a>
              </div>
          </li>
          <li><a href="contact.html">Contact</a></li>
      </ul>
      <a href="/path/to/your-resume.pdf" download="Amir_H_Rusli_Resume.pdf" class="resume-button">Resume</a>
  </div>

  <main>
    <section class="project-detail-container">
        <img src="https://placehold.co/800x400/2a2a2a/e0e0e0?text=Intersection+Optimization+Details" alt="Urban Intersection Optimization Project Details">
        <h2>Urban Intersection Optimization</h2>
        <p>This ongoing project focuses on redesigning and optimizing a critical urban intersection known for severe congestion and safety concerns. We are employing microscopic traffic simulation (VISSIM) to model current conditions, identify bottlenecks, and test various geometric and signal timing alternatives. The goal is to enhance overall efficiency, reduce delays, and improve safety for all road users, including pedestrians and cyclists.</p>
        
        <h3>Challenges:</h3>
        <p>Optimizing signal timings for multiple phases and conflicting movements while minimizing delays and maximizing throughput. Integrating pedestrian and cyclist safety measures into complex vehicular flows.</p>
        
        <h3>Solutions:</h3>
        <p>Developed detailed microscopic simulation models in VISSIM to test various geometric and signalization alternatives. Applied advanced optimization algorithms to fine-tune signal timings and lane configurations. Conducting iterative stakeholder workshops for feedback and refinement.</p>
        
        <h3>Outcomes:</h3>
        <p>Preliminary simulations show a potential 20% reduction in average vehicle delays and significant improvements in pedestrian crossing safety. The design aims to enhance overall intersection efficiency during peak hours and reduce accident rates.</p>

        <div class="tags">
            <span class="tag">Intersection Design</span>
            <span class="tag">VISSIM</span>
            <span class="tag">Capacity Analysis</span>
        </div>

        <a href="projects.html" class="back-button">&larr; Back to Projects</a>
    </section>
  </main>

  <footer>
    <p>© 2025 Amir H. Rusli Traffic Engineer. Built with ❤</p>
    <div class="social-links">
      <a href="https://www.linkedin.com/in/yourprofile" target="_blank" aria-label="LinkedIn Profile"><i class="fab fa-linkedin"></i></a> <!-- REMINDER: Update with your LinkedIn profile URL -->
      <a href="https://github.com/yourusername" target="_blank" aria-label="GitHub Profile"><i class="fab fa-github"></i></a> <!-- REMINDER: Update with your GitHub profile URL -->
    </div>
  </footer>

  <script>
    // Function to toggle theme
    function toggleTheme() {
      const body = document.body;
      const themeIconDesktop = document.getElementById('theme-icon');
      const themeIconMobile = document.getElementById('theme-icon-mobile');

      if (themeIconDesktop) themeIconDesktop.classList.add('rotating');
      if (themeIconMobile) themeIconMobile.classList.add('rotating');

      body.classList.toggle('dark');
      const isDark = body.classList.contains('dark');
      
      if (themeIconDesktop) {
        themeIconDesktop.textContent = isDark ? '🌙' : '🌞';
        document.querySelector('.theme-toggle-button').title = isDark ? 'Toggle light mode' : 'Toggle dark mode';
      }
      if (themeIconMobile) {
        themeIconMobile.textContent = isDark ? '🌙' : '🌞';
      }

      localStorage.setItem('theme', isDark ? 'dark' : 'light');

      setTimeout(() => {
        if (themeIconDesktop) themeIconDesktop.classList.remove('rotating');
        if (themeIconMobile) themeIconMobile.classList.remove('rotating');
      }, 600);
    }

    document.addEventListener('DOMContentLoaded', () => {
      const body = document.body;
      const themeIconDesktop = document.getElementById('theme-icon');
      const themeIconMobile = document.getElementById('theme-icon-mobile');
      const dropdown = document.querySelector('.dropdown');
      const dropbtn = document.querySelector('.dropbtn');
      const dropdownContent = document.getElementById('skills-dropdown-content');

      const mobileNavOverlay = document.querySelector('.mobile-nav-overlay');
      const mobileNav = document.querySelector('.mobile-nav');
      const hamburgerMenu = document.querySelector('.hamburger-menu');
      const mobileDropdown = document.querySelector('.dropdown-mobile');
      const mobileDropbtn = document.querySelector('.dropbtn-mobile');
      const mobileDropdownContent = document.getElementById('skills-dropdown-mobile-content');


      // Set initial theme based on localStorage or system preference
      const savedTheme = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

      if (savedTheme) {
        if (savedTheme === 'dark') {
          body.classList.add('dark');
          if (themeIconDesktop) themeIconDesktop.textContent = '🌙';
          if (themeIconMobile) themeIconMobile.textContent = '🌙';
        } else {
          if (themeIconDesktop) themeIconDesktop.textContent = '🌞';
          if (themeIconMobile) themeIconMobile.textContent = '🌞';
        }
      } else if (prefersDark) {
        body.classList.add('dark');
        if (themeIconDesktop) themeIconDesktop.textContent = '�';
        if (themeIconMobile) themeIconMobile.textContent = '🌙';
      } else {
        if (themeIconDesktop) themeIconDesktop.textContent = '🌞';
        if (themeIconMobile) themeIconMobile.textContent = '🌞';
      }

      // Add 'no-tap-highlight' class for better mobile experience
      document.body.classList.add('no-tap-highlight');

      // Preload hover states for smoother transitions
      document.querySelectorAll('nav ul li a, .resume-button, .theme-toggle-button, .mobile-nav ul li a').forEach(el => {
        el.style.transform = 'translateZ(0)'; /* Force hardware acceleration */
      });

      // Desktop Dropdown menu toggle
      if (dropdown && dropbtn && dropdownContent) {
          dropbtn.addEventListener('click', function(event) {
              event.stopPropagation(); // Prevent document click from closing immediately
              dropdown.classList.toggle('show');
              this.setAttribute('aria-expanded', dropdown.classList.contains('show'));
          });

          // Close the dropdown if the user clicks outside of it
          document.addEventListener('click', function(event) {
              if (!dropdown.contains(event.target)) {
                  dropdown.classList.remove('show');
                  dropbtn.setAttribute('aria-expanded', 'false');
              }
          });

          // Keyboard navigation for dropdown
          dropbtn.addEventListener('keydown', function(event) {
              if (event.key === 'Enter' || event.key === ' ') {
                  event.preventDefault();
                  dropdown.classList.toggle('show');
                  this.setAttribute('aria-expanded', dropdown.classList.contains('show'));
                  if (dropdown.classList.contains('show')) {
                      dropdownContent.querySelector('a').focus(); // Focus first item
                  }
              } else if (event.key === 'ArrowDown' && dropdown.classList.contains('show')) {
                  event.preventDefault();
                  dropdownContent.querySelector('a').focus();
              }
          });

          dropdownContent.addEventListener('keydown', function(event) {
              const focusableElements = Array.from(this.querySelectorAll('a'));
              const focusedItemIndex = focusableElements.indexOf(document.activeElement);

              if (event.key === 'ArrowDown') {
                  event.preventDefault();
                  if (focusedItemIndex < focusableElements.length - 1) {
                      focusableElements[focusedItemIndex + 1].focus();
                  } else {
                      focusableElements[0].focus(); // Loop to first
                  }
              } else if (event.key === 'ArrowUp') {
                  event.preventDefault();
                  if (focusedItemIndex > 0) {
                      focusableElements[focusedItemIndex - 1].focus();
                  } else {
                      focusableElements[focusableElements.length - 1].focus(); // Loop to last
                  }
              } else if (event.key === 'Escape') {
                  event.preventDefault();
                  dropdown.classList.remove('show');
                  dropbtn.setAttribute('aria-expanded', 'false');
                  dropbtn.focus(); // Return focus to button
              }
          });
      }

      // Mobile Menu Functionality
      function openMobileMenu() {
          mobileNavOverlay.classList.add('open');
          mobileNav.classList.add('open');
          hamburgerMenu.classList.add('open');
          document.body.style.overflowY = 'hidden'; /* Prevent body scroll */
      }

      function closeMobileMenu() {
          mobileNavOverlay.classList.remove('open');
          mobileNav.classList.remove('open');
          hamburgerMenu.classList.remove('open');
          document.body.style.overflowY = 'auto'; /* Restore body scroll */
      }

      hamburgerMenu.addEventListener('click', openMobileMenu);
      mobileNavOverlay.addEventListener('click', closeMobileMenu);

      // Mobile Dropdown toggle
      if (mobileDropdown && mobileDropbtn && mobileDropdownContent) {
          mobileDropbtn.addEventListener('click', function(event) {
              event.stopPropagation();
              mobileDropdown.classList.toggle('show');
              // Toggle display of dropdown content
              mobileDropdownContent.style.display = mobileDropdown.classList.contains('show') ? 'block' : 'none';
              this.setAttribute('aria-expanded', mobileDropdown.classList.contains('show'));
          });
      }
    });
  </script>
</body>
</html>
�