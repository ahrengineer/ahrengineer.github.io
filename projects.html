<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projects | Amir H. Rusli | Traffic Engineer & Consultant</title>
  <meta name="description" content="Explore traffic engineering projects by Amir H. Rusli, including urban intersection optimization, TIA, and automated data analysis.">
  <meta name="keywords" content="Amir H. Rusli, Traffic Projects, Traffic Impact Assessment, Vissim Simulation, Python Automation, Swept Path Analysis">
  <meta name="author" content="Amir H. Rusli">
  <link rel="canonical" href="https://yourdomain.com/projects.html"> 
  <link rel="icon" href="https://placehold.co/32x32/0077B6/ffffff?text=AR" type="image/png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ===== VARIABLES ===== */
    :root {
      --bg-light: #ffffff;
      --text-dark-primary: #1a1a1a;
      --text-dark-secondary: #555555;
      --accent-blue: #0077B6;
      --accent-blue-light: #e0f2f7;
      --border-radius-main: 16px;
      --border-radius-button: 8px;
      --transition-speed: 0.2s;

      /* Dark Mode Variables */
      --bg-dark: #1a1a1a;
      --text-light-primary: #e0e0e0;
      --text-light-secondary: #aaaaaa;
      --dark-mode-accent-blue: #4DA6FF;
      --dark-mode-accent-blue-light: #004d77;
      --neon-green-acid: #39FF14;
    }
    
    /* ===== BASE STYLES ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
        scroll-behavior: smooth; /* Smooth scrolling for anchor links */
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: var(--bg-light);
      color: var(--text-dark-primary);
      line-height: 1.6;
      display: flex;
      flex-direction: column;
      transition: background-color var(--transition-speed), color var(--transition-speed);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Allow overflow for scrolling content */
    body:not(.modal-open) {
        overflow-y: auto;
        overflow-x: hidden;
    }

    body.dark {
      background-color: var(--bg-dark);
      color: var(--text-light-primary);
    }

    /* ===== HEADER ===== */
    header {
      width: 100%;
      padding: 1.5rem 4rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      background-color: var(--bg-light);
      transition: background-color var(--transition-speed), border-bottom var(--transition-speed);
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    body.dark header {
        background-color: var(--bg-dark);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .header-logo-text {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 2rem; /* Adjusted size for desktop */
      color: var(--accent-blue);
      flex-shrink: 0;
      transition: color var(--transition-speed);
      cursor: pointer; /* Indicate it's clickable */
      text-decoration: none; /* Remove underline for AHR link */
    }

    body.dark .header-logo-text {
        color: var(--dark-mode-accent-blue);
    }

    nav {
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    nav ul {
      list-style: none;
      display: flex;
      gap: 1.5rem;
      margin-right: 1rem;
    }

    nav ul li a {
      text-decoration: none;
      color: var(--text-dark-primary);
      font-weight: 500;
      font-size: 1rem;
      padding: 0.5rem 0;
      position: relative; /* Essential for ripple effect */
      transition: color var(--transition-speed);
      overflow: hidden; /* Essential for ripple effect */
    }

    body.dark nav ul li a {
        color: var(--text-light-primary);
    }

    nav ul li a:hover {
      color: var(--accent-blue);
    }

    body.dark nav ul li a:hover {
        color: var(--dark-mode-accent-blue);
    }

    nav ul li a.active {
      color: var(--accent-blue);
      font-weight: 600;
    }

    body.dark nav ul li a.active {
        color: var(--dark-mode-accent-blue);
    }

    /* Dropdown menu styles */
    .dropdown {
      position: relative;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: var(--bg-light);
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
      border-radius: var(--border-radius-button);
      overflow: hidden;
      top: calc(100% + 10px);
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
    }

    body.dark .dropdown-content {
        background-color: var(--bg-dark);
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.4);
    }

    .dropdown-content a {
      color: var(--text-dark-primary);
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      text-align: left;
      font-weight: 400;
      font-size: 0.95rem;
      transition: background-color 0.2s ease, color 0.2s ease;
      position: relative; /* Essential for ripple effect */
      overflow: hidden; /* Essential for ripple effect */
    }

    body.dark .dropdown-content a {
        color: var(--text-light-primary);
    }

    .dropdown-content a:hover {
      background-color: var(--accent-blue-light);
      color: var(--accent-blue);
    }

    body.dark .dropdown-content a:hover {
        background-color: var(--dark-mode-accent-blue-light);
        color: var(--dark-mode-accent-blue);
    }

    .dropdown.show .dropdown-content {
      display: block;
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) translateY(0);
    }

    .dropdown-arrow {
      margin-left: 0.5rem;
      font-size: 0.8rem;
      transition: transform 0.3s ease;
    }

    .dropdown.show .dropdown-arrow {
      transform: rotate(180deg);
    }

    .resume-button {
      background-color: var(--accent-blue-light);
      color: var(--accent-blue);
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: var(--border-radius-button);
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: background-color var(--transition-speed), transform var(--transition-speed), color var(--transition-speed), box-shadow var(--transition-speed);
      white-space: nowrap;
      position: relative; /* Essential for ripple effect */
      overflow: hidden; /* Essential for ripple effect */
    }

    body.dark .resume-button {
        background-color: var(--neon-green-acid);
        color: var(--bg-dark);
        box-shadow: 0 0 15px var(--neon-green-acid), 0 0 25px var(--neon-green-acid);
    }

    .resume-button:hover {
      background-color: var(--accent-blue);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    body.dark .resume-button:hover {
        background-color: var(--neon-green-acid);
        color: var(--bg-dark);
        transform: translateY(-3px);
        box-shadow: 0 0 20px var(--neon-green-acid), 0 0 30px var(--neon-green-acid), 0 0 40px var(--neon-green-acid);
    }

    /* Theme toggle button */
    .theme-toggle-button {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--accent-blue-light);
      color: var(--accent-blue);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: background-color var(--transition-speed), color var(--transition-speed), transform var(--transition-speed), box-shadow var(--transition-speed);
      font-size: 1.1rem;
      margin-left: 1rem;
    }

    body.dark .theme-toggle-button {
        background: var(--dark-mode-accent-blue-light);
        color: var(--dark-mode-accent-blue);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }
    .theme-toggle-button:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    body.dark .theme-toggle-button:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }
    .theme-toggle-button #theme-icon {
        transition: transform 0.5s ease-in-out;
    }
    .theme-toggle-button #theme-icon.rotating {
        transform: rotate(360deg);
    }

    /* Hamburger menu for mobile */
    .hamburger-menu {
        display: none;
        flex-direction: column;
        justify-content: space-around;
        width: 30px;
        height: 25px;
        cursor: pointer;
        z-index: 1001;
        margin-left: 1rem;
    }

    .hamburger-menu span {
        display: block;
        width: 100%;
        height: 3px;
        background-color: var(--text-dark-primary);
        border-radius: 3px;
        transition: all 0.3s ease-in-out;
    }
    body.dark .hamburger-menu span {
        background-color: var(--text-light-primary);
    }

    .hamburger-menu.open span:nth-child(1) {
        transform: translateY(11px) rotate(45deg);
    }
    .hamburger-menu.open span:nth-child(2) {
        opacity: 0;
    }
    .hamburger-menu.open span:nth-child(3) {
        transform: translateY(-11px) rotate(-45deg);
    }

    /* Mobile Nav Overlay */
    .mobile-nav-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 999;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .mobile-nav-overlay.open {
        display: block;
        opacity: 1;
        visibility: visible;
    }

    .mobile-nav {
        position: fixed;
        top: 0;
        right: -300px;
        width: 280px;
        height: 100%;
        background-color: var(--bg-light);
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        display: flex;
        flex-direction: column;
        padding: 2rem;
        transition: right 0.3s ease-in-out;
    }

    body.dark .mobile-nav {
        background-color: var(--bg-dark);
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.5);
    }

    .mobile-nav.open {
        right: 0;
    }

    .mobile-nav ul {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        margin-top: 2rem;
    }

    .mobile-nav ul li a, .mobile-nav .resume-button {
      text-decoration: none;
      color: var(--text-dark-primary);
      font-size: 1.2rem;
      font-weight: 500;
      display: block;
      padding: 0.5rem 0;
      transition: color 0.2s ease;
      position: relative; /* Essential for ripple effect */
      overflow: hidden; /* Essential for ripple effect */
    }
    body.dark .mobile-nav ul li a {
        color: var(--text-light-primary);
    }

    .mobile-nav ul li a:hover {
        color: var(--accent-blue);
    }
    body.dark .mobile-nav ul li a:hover {
        color: var(--dark-mode-accent-blue);
    }

    .mobile-nav .resume-button {
        margin-top: 2rem;
        text-align: center;
    }

    /* Mobile dropdown specific styles */
    .mobile-nav .dropdown-content { /* Use .dropdown-content for mobile as well */
        position: static;
        display: none;
        opacity: 1;
        visibility: visible;
        transform: none;
        background-color: transparent;
        box-shadow: none;
        min-width: unset;
        padding-left: 1.5rem;
        margin-top: 0.5rem;
    }

    .mobile-nav .dropdown-content a {
        font-size: 1rem;
        padding: 0.3rem 0;
    }

    /* Ripple Effect CSS */
    .ripple {
      position: absolute;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.7); /* White ripple */
      animation: ripple-animation 0.6s linear forwards;
      pointer-events: none; /* Ensure clicks pass through */
      z-index: 0; /* Behind text */
    }

    body.dark .ripple {
        background-color: rgba(77, 166, 255, 0.3); /* Blue ripple for dark mode */
    }

    @keyframes ripple-animation {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      100% {
        transform: scale(2.5); /* Increased scale for better visibility */
        opacity: 0;
      }
    }

    /* ===== MAIN CONTENT SECTIONS ===== */
    main {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        padding: 2rem 4rem;
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
    }

    .page-content { /* General style for content on new pages */
        padding: 6rem 0;
        width: 100%;
        min-height: calc(100vh - 80px - 100px); /* Adjust for header and footer */
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
    }

    .page-content h2 {
        font-family: 'Playfair Display', serif;
        font-size: clamp(2rem, 4vw, 3rem);
        color: var(--accent-blue);
        margin-bottom: 2rem;
        transition: color var(--transition-speed);
    }
    body.dark .page-content h2 {
        color: var(--dark-mode-accent-blue);
    }

    .page-content p {
        max-width: 800px;
        font-size: 1.1rem;
        line-height: 1.8;
        margin-bottom: 1.5rem;
    }

    /* Project Grid */
    .projects-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        width: 100%;
        max-width: 1000px;
        margin-top: 2rem;
    }

    .project-card {
        background-color: var(--bg-light);
        border: 1px solid rgba(0, 0, 0, 0.1);
        border-radius: var(--border-radius-main);
        overflow: hidden; /* Ensure image corners are rounded */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
        display: flex; /* Use flexbox for internal layout */
        flex-direction: column;
        text-align: left; /* Align content to left */
    }
    body.dark .project-card {
        background-color: var(--bg-dark);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    .project-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }
    body.dark .project-card:hover {
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
    }

    .project-card img {
        width: 100%;
        height: 200px; /* Fixed height for project images */
        object-fit: cover;
        display: block;
        border-bottom: 1px solid rgba(0, 0, 0, 0.05); /* Separator for image */
    }
    body.dark .project-card img {
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .project-content { /* New container for text content */
        padding: 1.5rem;
        flex-grow: 1; /* Allows content to take available space */
        display: flex;
        flex-direction: column;
    }

    .project-card .small-title { /* New class for small title */
        font-size: 0.9rem;
        color: var(--text-dark-secondary);
        margin-bottom: 0.5rem;
        transition: color var(--transition-speed);
    }
    body.dark .project-card .small-title {
        color: var(--text-light-secondary);
    }

    .project-card h3 {
        color: var(--accent-blue);
        font-size: 1.4rem;
        margin-bottom: 0.8rem; /* Increased margin for better separation */
        transition: color var(--transition-speed);
    }
    body.dark .project-card h3 {
        color: var(--dark-mode-accent-blue);
    }

    .project-card .description { /* New class for concise description */
        font-size: 0.95rem;
        color: var(--text-dark-primary); /* Main text color */
        margin-bottom: 1rem;
        transition: color var(--transition-speed);
    }
    body.dark .project-card .description {
        color: var(--text-light-primary);
    }

    .more-details-content { /* Hidden content */
        max-height: 0;
        overflow: hidden;
        opacity: 0;
        transition: max-height 0.7s ease-in-out, opacity 0.7s ease-in-out;
        padding-top: 0.5rem; /* Small padding when hidden */
    }

    .project-card.expanded .more-details-content {
        max-height: 500px; /* Adjust as needed for content height */
        opacity: 1;
        padding-top: 1rem; /* More padding when expanded */
    }

    .project-card .detailed-description { /* Style for the expanded description */
        font-size: 0.9rem;
        color: var(--text-dark-secondary);
        margin-bottom: 0.8rem;
        transition: color var(--transition-speed);
    }
    body.dark .project-card .detailed-description {
        color: var(--text-light-secondary);
    }

    .project-card .tools-used { /* New class for tools/software */
        font-size: 0.85rem;
        color: var(--text-dark-secondary);
        margin-top: 0.5rem; /* Space above tools */
        transition: color var(--transition-speed);
    }
    body.dark .project-card .tools-used {
        color: var(--text-light-secondary);
    }

    .project-actions { /* Container for the two buttons */
        display: flex;
        justify-content: space-between; /* Space out the buttons */
        align-items: center;
        margin-top: 1rem; /* Space from content above */
        gap: 1rem; /* Space between buttons */
        flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
    }

    .toggle-details-btn { /* Style for the new button */
        background-color: transparent;
        border: none;
        color: var(--accent-blue);
        font-size: 0.95rem;
        font-weight: 500;
        cursor: pointer;
        padding: 0.5rem 0;
        text-align: left;
        display: block; /* Make it take full width for consistent click area */
        width: fit-content; /* Only take content width */
        transition: color 0.2s ease, transform 0.2s ease;
        position: relative; /* Essential for ripple effect */
        overflow: hidden; /* Essential for ripple effect */
    }
    body.dark .toggle-details-btn {
        color: var(--dark-mode-accent-blue);
    }

    .toggle-details-btn:hover {
        text-decoration: underline;
        transform: translateX(5px); /* Subtle slide effect */
    }

    .external-details-btn { /* Style for the new "Learn More" button */
        background-color: var(--accent-blue); /* Blue background */
        color: white;
        padding: 0.75rem 1.25rem;
        border: none;
        border-radius: var(--border-radius-button);
        font-size: 0.9rem;
        font-weight: 600;
        cursor: pointer;
        text-decoration: none; /* No underline */
        display: inline-flex; /* For icon alignment if added */
        align-items: center;
        gap: 0.5rem;
        transition: background-color var(--transition-speed), transform var(--transition-speed), box-shadow var(--transition-speed), opacity 0.3s ease, visibility 0.3s ease;
        white-space: nowrap; /* Prevent text wrapping */
        opacity: 0; /* Initially hidden */
        visibility: hidden; /* Initially hidden */
        pointer-events: none; /* Disable clicks when hidden */
        position: relative; /* Essential for ripple effect */
        overflow: hidden; /* Essential for ripple effect */
    }
    body.dark .external-details-btn {
        background-color: var(--dark-mode-accent-blue);
    }

    .project-card.expanded .external-details-btn { /* Show when expanded */
        opacity: 1;
        visibility: visible;
        pointer-events: auto; /* Enable clicks when visible */
    }

    .external-details-btn:hover {
        background-color: var(--accent-blue-dark); /* Darker blue on hover */
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }
    body.dark .external-details-btn:hover {
        background-color: var(--dark-mode-accent-blue); /* Keep same color for dark mode hover */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    /* ===== FOOTER ===== */
    footer {
      text-align: center;
      padding: 1.5rem 2rem;
      font-size: 0.85rem;
      width: 100%;
      box-sizing: border-box;
      flex-shrink: 0;
      color: var(--text-dark-primary);
      opacity: 0.8;
      background-color: var(--bg-light);
      transition: background-color var(--transition-speed), color var(--transition-speed);
      border-top: 1px solid rgba(0, 0, 0, 0.05);
    }
    
    body.dark footer {
        color: var(--text-light-primary);
        background-color: var(--bg-dark);
        border-top: 1px solid rgba(255, 255, 255, 0.05);
    }

    footer p {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .social-links {
      margin-top: 0.8rem;
      gap: 0.8rem;
      display: flex;
      justify-content: center;
    }

    .social-links a {
      font-size: 1.3rem;
      color: var(--text-dark-primary);
      transition: color 0.2s ease-out, transform 0.2s ease-out;
      opacity: 0.7;
    }

    body.dark .social-links a {
      color: var(--text-light-primary);
    }

    .social-links a:hover {
      color: var(--accent-blue);
      transform: translateY(-2px);
      opacity: 1;
    }

    body.dark .social-links a:hover {
      color: var(--dark-mode-accent-blue);
    }
    
    /* ===== RESPONSIVE ADJUSTMENTS ===== */
    @media (max-width: 1024px) {
        header {
            padding: 1.5rem 2rem;
        }
        nav ul {
            gap: 1rem;
        }
        nav ul li a {
            font-size: 0.95rem;
        }
        nav .resume-button {
            padding: 0.7rem 1.2rem;
            font-size: 0.9rem;
        }
        main {
            padding: 1.5rem 2rem;
        }
        .page-content {
            padding: 4rem 0;
        }
    }

    @media (max-width: 768px) {
        html {
            scroll-padding-top: 60px;
        }
        header {
            padding: 1rem 1.5rem;
            flex-direction: row;
            justify-content: space-between;
            height: 60px;
        }
        .header-logo-text {
            font-size: 1.5rem; /* Adjusted size for mobile */
        }
        nav {
            display: none;
        }
        .hamburger-menu {
            display: flex;
        }
        .theme-toggle-button {
            margin-left: 0.5rem;
        }
        main {
            padding: 1.5rem;
        }
        .page-content {
            padding: 3rem 0;
            min-height: calc(100vh - 60px - 100px);
        }
        .projects-grid {
            grid-template-columns: 1fr;
        }
        .project-actions {
            flex-direction: column; /* Stack buttons on small mobile */
            align-items: flex-start;
            width: 100%; /* Take full width */
        }
        .toggle-details-btn, .external-details-btn {
            width: 100%; /* Make buttons full width when stacked */
            text-align: center;
            justify-content: center; /* Center content for inline-flex */
        }
    }

    @media (max-width: 480px) {
        header {
            padding: 0.8rem 1rem;
            height: 55px;
        }
        .header-logo-text {
            font-size: 1.2rem; /* Even smaller for very small screens */
        }
        .hamburger-menu {
            width: 28px;
            height: 22px;
        }
        .hamburger-menu span {
            height: 2px;
        }
        .hamburger-menu.open span:nth-child(1) {
            transform: translateY(10px) rotate(45deg);
        }
        .hamburger-menu.open span:nth-child(3) {
            transform: translateY(-10px) rotate(-45deg);
        }
        .theme-toggle-button {
            width: 32px;
            height: 32px;
            font-size: 0.8rem;
        }
        main {
            padding: 1rem;
        }
        .page-content {
            padding: 2rem 0;
            min-height: calc(100vh - 55px - 100px);
        }
        .project-card {
            padding: 0; /* Remove padding from card itself */
        }
        .project-content {
            padding: 1rem; /* Add padding to content inside */
        }
    }
  </style>
  <!-- SEO Enhancement: JSON-LD Structured Data for Person -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Amir H. Rusli",
    "jobTitle": "Traffic Engineer & Consultant",
    "url": "https://yourdomain.com/",
    "alumniOf": {
      "@type": "EducationalOrganization",
      "name": "University Malaya"
    },
    "sameAs": [
      "https://www.linkedin.com/in/yourprofile",
      "https://github.com/yourusername"
    ],
    "worksFor": {
      "@type": "Organization",
      "name": "Self-Employed"
    }
  }
  </script>
</head>
<body class="no-tap-highlight">
  <header>
    <a href="index.html" class="header-logo-text" aria-label="Go to homepage">AHR</a>
    <nav class="desktop-nav">
        <ul>
            <li><a href="about.html">About</a></li>
            <li><a href="projects.html" class="active">Projects</a></li> <!-- Active for this page -->
            <li class="dropdown">
                <a href="#" class="dropbtn" onclick="return false;" aria-haspopup="true" aria-expanded="false" aria-controls="skills-dropdown-content">Skills <i class="fas fa-caret-down dropdown-arrow"></i></a>
                <div class="dropdown-content" id="skills-dropdown-content" role="menu">
                    <a href="skill-details-sidra.html" role="menuitem">Sidra</a>
                    <a href="skill-details-vissim.html" role="menuitem">Vissim</a>
                    <a href="skill-details-sumo.html" role="menuitem">SUMO Traffic</a>
                    <a href="skill-details-swept-path.html" role="menuitem">Swept Path Analysis</a>
                </div>
            </li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
        <a href="/path/to/your-resume.pdf" download="Amir_H_Rusli_Resume.pdf" class="resume-button">Resume</a>
        <button class="theme-toggle-button" onclick="toggleTheme()" aria-label="Toggle dark mode">
            <span id="theme-icon">🌞</span>
        </button>
    </nav>
    <div class="hamburger-menu" aria-label="Open navigation menu" role="button" tabindex="0">
        <span></span>
        <span></span>
        <span></span>
    </div>
  </header>

  <!-- Mobile Navigation Menu -->
  <div class="mobile-nav-overlay"></div>
  <div class="mobile-nav">
      <button class="theme-toggle-button" onclick="toggleTheme()" aria-label="Toggle dark mode">
          <span id="theme-icon-mobile">🌞</span>
      </button>
      <ul>
          <li><a href="about.html">About</a></li>
          <li><a href="projects.html" class="active">Projects</a></li>
          <li class="dropdown-mobile">
              <a href="#" class="dropbtn-mobile" onclick="return false;" aria-haspopup="true" aria-expanded="false" aria-controls="skills-dropdown-mobile-content">Skills <i class="fas fa-caret-down dropdown-arrow"></i></a>
              <div class="dropdown-content" id="skills-dropdown-mobile-content" role="menu">
                  <a href="skill-details-sidra.html" role="menuitem">Sidra</a>
                  <a href="skill-details-vissim.html" role="menuitem">Vissim</a>
                  <a href="skill-details-sumo.html" role="menuitem">SUMO Traffic</a>
                  <a href="skill-details-swept-path.html" role="menuitem">Swept Path Analysis</a>
              </div>
          </li>
          <li><a href="contact.html">Contact</a></li>
      </ul>
      <a href="/path/to/your-resume.pdf" download="Amir_H_Rusli_Resume.pdf" class="resume-button">Resume</a>
  </div>

  <main>
    <section class="page-content" id="projects-content">
        <h2>Featured Projects</h2>
        <div class="projects-grid">
            <div class="project-card">
                <img src="https://placehold.co/600x400/cccccc/333333?text=Urban+Intersection" alt="Urban Intersection Optimization Project">
                <div class="project-content">
                    <span class="small-title">Traffic Analysis & Design</span>
                    <h3>Urban Intersection Optimization</h3>
                    <p class="description">Designed and optimized a complex urban intersection using Vissim, reducing congestion by 25% during peak hours through advanced signal timing and lane configuration adjustments.</p>
                    <div class="more-details-content">
                        <p class="detailed-description">This project involved a comprehensive analysis of traffic patterns, queue lengths, and delays at a critical urban intersection. Using Vissim, a detailed microscopic simulation model was developed and calibrated. Various signal timing plans and geometric modifications were tested, leading to the implementation of an optimized solution that significantly improved traffic flow and reduced vehicle emissions. Key outcomes included a 25% reduction in average vehicle delay and a 15% improvement in intersection capacity during peak hours.</p>
                        <span class="tools-used">Tools: Vissim, AutoCAD, MS Excel</span>
                    </div>
                    <div class="project-actions">
                        <button class="toggle-details-btn" aria-expanded="false">View Details &rarr;</button>
                        <a href="project-details-urban-intersection.html" class="external-details-btn">Learn More &rarr;</a>
                    </div>
                </div>
            </div>
            <div class="project-card">
                <img src="https://placehold.co/600x400/cccccc/333333?text=TIA+Development" alt="Traffic Impact Assessment Project">
                <div class="project-content">
                    <span class="small-title">Impact Assessment</span>
                    <h3>Traffic Impact Assessment for Mixed-Use Development</h3>
                    <p class="description">Conducted a comprehensive TIA for a large mixed-use development, providing data-driven recommendations for access, internal circulation, and off-site mitigation measures.</p>
                    <div class="more-details-content">
                        <p class="detailed-description">Performed a thorough Traffic Impact Assessment for a proposed large-scale mixed-use development comprising residential, commercial, and retail components. This involved forecasting future traffic generation, distribution, and assignment, followed by a detailed capacity analysis of surrounding road networks. Recommendations included optimized access points, internal road network design, and proposed improvements to adjacent public roads to accommodate the increased traffic demand. The study ensured compliance with local transportation planning guidelines.</p>
                        <span class="tools-used">Tools: SIDRA INTERSECTION, MS Excel, GIS</span>
                    </div>
                    <div class="project-actions">
                        <button class="toggle-details-btn" aria-expanded="false">View Details &rarr;</button>
                        <a href="project-details-tia-development.html" class="external-details-btn">Learn More &rarr;</a>
                    </div>
                </div>
            </div>
            <div class="project-card">
                <img src="https://placehold.co/600x400/cccccc/333333?text=Python+Automation" alt="Automated Data Analysis Project">
                <div class="project-content">
                    <span class="small-title">Automation & Data Science</span>
                    <h3>Automated Data Analysis Script (Python)</h3>
                    <p class="description">Developed Python scripts to automate the processing and analysis of large traffic count datasets, significantly reducing manual effort and improving data accuracy.</p>
                    <div class="more-details-content">
                        <p class="detailed-description">This project focused on developing robust Python scripts to streamline the workflow of traffic data analysis. The scripts are capable of importing raw traffic count data from various formats, cleaning and validating the data, performing statistical analysis (e.g., peak hour factor calculation, volume-to-capacity ratios), and generating automated reports and visualizations. This automation significantly reduced the time spent on manual data manipulation, allowing for quicker insights and more efficient project delivery.</p>
                        <span class="tools-used">Tools: Python (Pandas, Matplotlib, NumPy)</span>
                    </div>
                    <div class="project-actions">
                        <button class="toggle-details-btn" aria-expanded="false">View Details &rarr;</button>
                        <a href="project-details-python-automation.html" class="external-details-btn">Learn More &rarr;</a>
                    </div>
                </div>
            </div>
            <div class="project-card">
                <img src="https://placehold.co/600x400/cccccc/333333?text=Swept+Path" alt="Swept Path Analysis Project">
                <div class="project-content">
                    <span class="small-title">Geometric Design</span>
                    <h3>Swept Path Analysis for Commercial Hub</h3>
                    <p class="description">Performed detailed swept path analysis for various heavy vehicle types within a commercial hub, ensuring geometric design compliance and safe, efficient vehicle movements.</p>
                    <div class="more-details-content">
                        <p class="detailed-description">Conducted a comprehensive swept path analysis to assess the maneuverability of large commercial vehicles (e.g., articulated trucks, buses) within a proposed commercial hub. This involved simulating vehicle movements through intersections, loading bays, and parking areas to identify potential conflicts, tight turns, or areas requiring design adjustments. The analysis ensured that the proposed geometric layout could safely and efficiently accommodate the design vehicles, preventing future operational issues.</p>
                        <span class="tools-used">Tools: AutoCAD</span>
                    </div>
                    <div class="project-actions">
                        <button class="toggle-details-btn" aria-expanded="false">View Details &rarr;</button>
                        <a href="project-details-swept-path.html" class="external-details-btn">Learn More &rarr;</a>
                    </div>
                </div>
            </div>
             <div class="project-card">
                <img src="https://placehold.co/600x400/cccccc/333333?text=Signal+Timing" alt="Signal Timing Optimization Project">
                <div class="project-content">
                    <span class="small-title">Traffic Signal Optimization</span>
                    <h3>Signal Timing Optimization for CBD Area</h3>
                    <p class="description">Implemented signal timing adjustments in a central business district, improving traffic flow by 15% during peak periods and enhancing pedestrian safety.</p>
                    <div class="more-details-content">
                        <p class="detailed-description">This project focused on enhancing traffic flow and safety within a congested Central Business District (CBD) by optimizing traffic signal timings. Detailed traffic surveys were conducted, and a network model was built. Through iterative simulations and analysis, optimized cycle lengths, green splits, and offsets were developed. The implementation resulted in a measurable improvement in journey times and a reduction in vehicle queues, while also incorporating pedestrian crossing phases for enhanced safety.</p>
                        <span class="tools-used">Tools: SIDRA INTERSECTION, Synchro, MS Excel</span>
                    </div>
                    <div class="project-actions">
                        <button class="toggle-details-btn" aria-expanded="false">View Details &rarr;</button>
                        <a href="project-details-signal-timing.html" class="external-details-btn">Learn More &rarr;</a>
                    </div>
                </div>
            </div>
            <div class="project-card">
                <img src="https://placehold.co/600x400/0077B6/ffffff?text=SUMO+Traffic" alt="SUMO Traffic Simulation Project">
                <div class="project-content">
                    <span class="small-title">Open-Source Simulation</span>
                    <h3>SUMO Traffic Modeling for Smart Cities</h3>
                    <p class="description">Developed and validated traffic simulation models using SUMO for smart city initiatives, focusing on intelligent transportation systems and sustainable urban planning.</p>
                    <div class="more-details-content">
                        <p class="detailed-description">This project involved leveraging SUMO (Simulation of Urban MObility), an open-source microscopic traffic simulator, to model and analyze traffic flow in the context of smart city applications. The work included creating detailed road networks, defining vehicle types and routes, and simulating various traffic management strategies. The focus was on evaluating the effectiveness of intelligent transportation systems (ITS) components, such as adaptive traffic lights and public transport prioritization, to support sustainable urban planning and reduce environmental impact.</p>
                        <span class="tools-used">Tools: SUMO, Python, Netedit</span>
                    </div>
                    <div class="project-actions">
                        <button class="toggle-details-btn" aria-expanded="false">View Details &rarr;</button>
                        <a href="skill-details-sumo.html" class="external-details-btn">Learn More &rarr;</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
  </main>

  <footer>
    <p>© 2025 Amir H. Rusli Traffic Engineer. Built with ❤</p>
    <div class="social-links">
      <a href="https://www.linkedin.com/in/yourprofile" target="_blank" aria-label="LinkedIn Profile"><i class="fab fa-linkedin"></i></a> <!-- REMINDER: Update with your LinkedIn profile URL -->
      <a href="https://github.com/yourusername" target="_blank" aria-label="GitHub Profile"><i class="fab fa-github"></i></a> <!-- REMINDER: Update with your GitHub profile URL -->
    </div>
  </footer>

  <script>
    // Function to toggle theme
    function toggleTheme() {
      const body = document.body;
      const themeIconDesktop = document.getElementById('theme-icon');
      const themeIconMobile = document.getElementById('theme-icon-mobile');

      if (themeIconDesktop) themeIconDesktop.classList.add('rotating');
      if (themeIconMobile) themeIconMobile.classList.add('rotating');

      body.classList.toggle('dark');
      const isDark = body.classList.contains('dark');
      
      if (themeIconDesktop) {
        themeIconDesktop.textContent = isDark ? '🌙' : '🌞';
        document.querySelector('.theme-toggle-button').title = isDark ? 'Toggle light mode' : 'Toggle dark mode';
      }
      if (themeIconMobile) {
        themeIconMobile.textContent = isDark ? '🌙' : '🌞';
      }

      localStorage.setItem('theme', isDark ? 'dark' : 'light');

      setTimeout(() => {
        if (themeIconDesktop) themeIconDesktop.classList.remove('rotating');
        if (themeIconMobile) themeIconMobile.classList.remove('rotating');
      }, 600);
    }

    document.addEventListener('DOMContentLoaded', () => {
      const body = document.body;
      const themeIconDesktop = document.getElementById('theme-icon');
      const themeIconMobile = document.getElementById('theme-icon-mobile');
      const dropdown = document.querySelector('.dropdown');
      const dropbtn = document.querySelector('.dropbtn');
      const dropdownContent = document.getElementById('skills-dropdown-content');

      const mobileNavOverlay = document.querySelector('.mobile-nav-overlay');
      const mobileNav = document.querySelector('.mobile-nav');
      const hamburgerMenu = document.querySelector('.hamburger-menu');
      const mobileDropdown = document.querySelector('.dropdown-mobile');
      const mobileDropbtn = document.querySelector('.dropbtn-mobile');
      const mobileDropdownContent = document.getElementById('skills-dropdown-mobile-content');


      // Set initial theme based on localStorage or system preference
      const savedTheme = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

      if (savedTheme) {
        if (savedTheme === 'dark') {
          body.classList.add('dark');
          if (themeIconDesktop) themeIconDesktop.textContent = '🌙';
          if (themeIconMobile) themeIconMobile.textContent = '🌙';
        } else {
          if (themeIconDesktop) themeIconDesktop.textContent = '🌞';
          if (themeIconMobile) themeIconMobile.textContent = '🌞';
        }
      } else if (prefersDark) {
        body.classList.add('dark');
        if (themeIconDesktop) themeIconDesktop.textContent = '🌙';
        if (themeIconMobile) themeIconMobile.textContent = '🌙';
      } else {
        if (themeIconDesktop) themeIconDesktop.textContent = '🌞';
        if (themeIconMobile) themeIconMobile.textContent = '🌞';
      }

      // Add 'no-tap-highlight' class for better mobile experience
      document.body.classList.add('no-tap-highlight');

      // Preload hover states for smoother transitions
      document.querySelectorAll('nav ul li a, .resume-button, .theme-toggle-button, .mobile-nav ul li a').forEach(el => {
        el.style.transform = 'translateZ(0)'; /* Force hardware acceleration */
      });

      // Desktop Dropdown menu toggle
      if (dropdown && dropbtn && dropdownContent) {
          dropbtn.addEventListener('click', function(event) {
              event.stopPropagation(); // Prevent document click from closing immediately
              dropdown.classList.toggle('show');
              this.setAttribute('aria-expanded', dropdown.classList.contains('show'));
          });

          // Close the dropdown if the user clicks outside of it
          document.addEventListener('click', function(event) {
              if (!dropdown.contains(event.target)) {
                  dropdown.classList.remove('show');
                  dropbtn.setAttribute('aria-expanded', 'false');
              }
          });

          // Keyboard navigation for dropdown
          dropbtn.addEventListener('keydown', function(event) {
              if (event.key === 'Enter' || event.key === ' ') {
                  event.preventDefault();
                  dropdown.classList.toggle('show');
                  this.setAttribute('aria-expanded', dropdown.classList.contains('show'));
                  if (dropdown.classList.contains('show')) {
                      dropdownContent.querySelector('a').focus(); // Focus first item
                  }
              } else if (event.key === 'ArrowDown' && dropdown.classList.contains('show')) {
                  event.preventDefault();
                  dropdownContent.querySelector('a').focus();
              }
          });

          dropdownContent.addEventListener('keydown', function(event) {
              const focusableElements = Array.from(this.querySelectorAll('a'));
              const focusedItemIndex = focusableElements.indexOf(document.activeElement);

              if (event.key === 'ArrowDown') {
                  event.preventDefault();
                  if (focusedItemIndex < focusableElements.length - 1) {
                      focusableElements[focusedItemIndex + 1].focus();
                  } else {
                      focusableElements[0].focus(); // Loop to first
                  }
              } else if (event.key === 'ArrowUp') {
                  event.preventDefault();
                  if (focusedItemIndex > 0) {
                      focusableElements[focusedItemIndex - 1].focus();
                  } else {
                      focusableElements[focusableElements.length - 1].focus(); // Loop to last
                  }
              } else if (event.key === 'Escape') {
                  event.preventDefault();
                  dropdown.classList.remove('show');
                  dropbtn.setAttribute('aria-expanded', 'false');
                  dropbtn.focus(); // Return focus to button
              }
          });
      }

      // Mobile Menu Functionality
      function openMobileMenu() {
          mobileNavOverlay.classList.add('open');
          mobileNav.classList.add('open');
          hamburgerMenu.classList.add('open');
          document.body.style.overflowY = 'hidden'; /* Prevent body scroll */
      }

      function closeMobileMenu() {
          mobileNavOverlay.classList.remove('open');
          mobileNav.classList.remove('open');
          hamburgerMenu.classList.remove('open');
          document.body.style.overflowY = 'auto'; /* Restore body scroll */
      }

      hamburgerMenu.addEventListener('click', openMobileMenu);
      mobileNavOverlay.addEventListener('click', closeMobileMenu);

      // Mobile Dropdown toggle
      if (mobileDropdown && mobileDropbtn && mobileDropdownContent) {
          mobileDropbtn.addEventListener('click', function(event) {
              event.stopPropagation();
              mobileDropdown.classList.toggle('show');
              // Toggle display of dropdown content
              mobileDropdownContent.style.display = mobileDropdown.classList.contains('show') ? 'block' : 'none';
              this.setAttribute('aria-expanded', mobileDropdown.classList.contains('show'));
          });
      }

      // Project Card "View Details" / "Less Details" Toggle
      document.querySelectorAll('.toggle-details-btn').forEach(button => {
          button.addEventListener('click', function() {
              const projectCard = this.closest('.project-card');
              projectCard.classList.toggle('expanded');
              const isExpanded = projectCard.classList.contains('expanded');
              this.setAttribute('aria-expanded', isExpanded);
              this.textContent = isExpanded ? 'Less Details \u2190' : 'View Details \u2192'; // Unicode arrows
          });
      });

      // Ripple effect functionality (copied from about.html for consistency)
      function createRipple(event) {
        const button = event.currentTarget;
        const ripple = document.createElement('span');
        const diameter = Math.max(button.clientWidth, button.clientHeight);
        const radius = diameter / 2;

        // Position the ripple at the click location
        ripple.style.width = ripple.style.height = `${diameter}px`;
        ripple.style.left = `${event.clientX - button.getBoundingClientRect().left - radius}px`;
        ripple.style.top = `${event.clientY - button.getBoundingClientRect().top - radius}px`;
        
        ripple.classList.add('ripple');

        // Remove any existing ripples to prevent accumulation
        const existingRipple = button.querySelector('.ripple');
        if (existingRipple) {
          existingRipple.remove();
        }

        button.appendChild(ripple);

        // Remove the ripple element after its animation completes
        ripple.addEventListener('animationend', () => {
          ripple.remove();
        });
      }

      // Apply ripple effect to all relevant elements (copied from about.html for consistency)
      document.querySelectorAll('nav ul li a, .resume-button, .dropdown-content a, .mobile-nav ul li a, .mobile-nav .resume-button, .mobile-nav .dropdown-content a, .toggle-details-btn, .external-details-btn').forEach(button => {
        button.addEventListener('click', createRipple);
      });

      // Special handling for dropdown button to ensure ripple is contained
      if (dropbtn) {
        dropbtn.addEventListener('click', createRipple);
      }
      if (mobileDropbtn) {
        mobileDropbtn.addEventListener('click', createRipple);
      }
    });
  </script>
</body>
</html>
